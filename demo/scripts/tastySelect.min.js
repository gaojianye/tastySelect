!function(e,t){"use strict";function n(e,n){function a(e){for(var t,n,r=e.querySelector(m.selector),i=e.querySelector("."+y.options),o=i.querySelectorAll("."+y.item),l=e.querySelector("."+y.title),a=r.options,u=[],d=m.defaultText,p=0,f=o.length;f>p;p++)n=a[p],t=o[p],n.selected?(s(t,y.selected),u.push(n.text)):c(t,y.selected);u.length&&(d=m.mask.replace("$",u.length).replace("%",u.join(m.maskJoin))),l.innerHTML=d}function u(e){var n=e.querySelector(m.selector),r=e.querySelector("."+y.title),i=e.querySelector("."+y.options);n.setAttribute(h.selectReady,""),r.addEventListener("click",function(){v(e)},!1),n.addEventListener("change",function(){a(e)},!1),i.addEventListener("click",function(e){var n,r=e.target.closest("."+y.item),i=e.target.closest("."+y.outer);if(r){if(n=i.querySelector(m.selector),n.multiple&&e.ctrlKey)return f(r,!0),t;f(r),v(r.closest("."+y.outer))}},!1)}function f(e,t){var n=e.getAttribute(h.index),r=e.closest("."+y.outer),i=r.querySelector(m.selector),o=i.options,l=o[n];if(!t)for(var s=0,c=o.length;c>s;s++)o[s].selected=!1;if(l.selected=l.selected?!1:!0,"createEvent"in document){var a=document.createEvent("HTMLEvents");a.initEvent("change",!1,!0),i.dispatchEvent(a)}else i.fireEvent("onchange")}function v(e){e.classList.toggle(y.open)}function g(e){function t(){for(var e,t=null,n=null,r=a.cloneNode(!0),l=0,s=d.length;s>l;l++){var p=u.cloneNode(!0),f=d[l];n=f.parentNode.getAttribute("label"),t!=n&&(r&&i.appendChild(r),null==n?r=a.cloneNode(!0):(r=c.cloneNode(!0),e=o.cloneNode(!0),e.innerHTML=n,r.appendChild(e))),t=n,p.setAttribute(h.value,f.value),p.setAttribute(h.index,f.index),p.innerHTML=f.text,r.appendChild(p)}i.appendChild(r)}var n=l("div",y.outer),r=l("div",y.title),i=l("div",y.options),o=l("li",y.label),c=l("ul",y.optgroup),a=l("ul",y.list),u=l("li",y.item),d=e.options;return p&&s(n,y.mobile),n.appendChild(r),n.appendChild(i),t(i),n}if(null===e.getAttribute("data-tastyselect")){var m,y,h;m=i({},d,n),y=m.classes,h=m.attributes;var b=g(e);m.mobileFix&&r(e),o(e,b),u(b),a(b)}}function r(e){var t=l("optgroup");t.disabled=!0,t.hidden=!0,e.insertBefore(t,e.firstChild)}function i(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}function o(e,t){var n=e.cloneNode(!0),r=e.parentNode;t.appendChild(n),r.insertBefore(t,e),r.removeChild(e)}function l(e,t){var n=document.createElement(e);return t&&s(n,t),n}function s(e,t){e.classList.add(t)}function c(e,t){e.classList.remove(t)}function a(){var e={Android:function(){return navigator.userAgent.match(/Android/i)?"android":!1},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)?"blackberry":!1},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)?"ios":!1},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)?"operamini":!1},Windows:function(){return navigator.userAgent.match(/IEMobile/i)?"ie":!1},any:function(){return e.Android()||e.BlackBerry()||e.iOS()||e.Opera()||e.Windows()}};return e}function u(e,t){Array.prototype.slice.call(e).forEach(t)}var d={selector:"select",mobileFix:!0,mask:"%",maskJoin:", ",defaultText:"Select item...",classes:{outer:"style-select",title:"style-select-title",options:"style-select-options",label:"style-select-label",optgroup:"style-select-optgroup",list:"style-select-list",item:"style-select-option",open:"st_open",selected:"st_selected",mobile:"is_mobile"},attributes:{index:"data-index",value:"data-value",selectReady:"data-tastyselect"}},p=a().any(),f=function(e){var t,r=document.querySelectorAll(e&&e.selector||d.selector);u(r,function(t){n(t,e)}),t=e&&e.classes&&e.classes.open||d.classes.open,document.body.addEventListener("click",function(){var e=event.target.closest("."+t),n=document.querySelectorAll("."+t);u(n,function(n){e!==n&&c(n,t)})},!1)};e.tastySelect=f}(window);