tastySelect
=========
![tastySelect](http://evgenin.ru/github/images/tastySelect.jpg)

Плагин для стилизации `select` без зависимостей.


Первые шаги
----------
Подключить библиотеку
```html
<script src="tastySelect.min.js"></script> 
```
Для того чтобы начать использовать плагин необходимо инициализировать. Если при вызове не передать настройки, то обработаются все `select` по стандартному шаблону.
```javascript
tastySelect();
```

Стилизация
----------
Все стилизуется очень просто. Структуре элементов задаются классы из переданых настроек (или стандартные). [Демо](http://evgenin.ru/tastyselect "Демо").
```html
<div class=classes.outer>
<!--Оболочка для стилизации и селекта-->
	<div class=classes.title></div>
	<!--Видимая часть (если выпадашка скрыта)-->
	<div class=classes.options>
	<!--Общий блок для элементов-->
		<ul class=classes.list>
			<!--Такой список используется для элементов без подгруппы-->
			<li class=classes.option attributes.value attributes.index></li>
			<!--Сам элемент. attributes.index - позиция элемента в select, attributes.value - значение оригинального option-->
		</ul>
		<ul class=classes.optgroup>
		<!--Такой список используется для элементов подгруппы-->
			<li class=classes.label></li>
			<!--Заголовок для подгруппы. Значение берется из атрибута label тега optgroup-->
			<li class=classes.option attributes.value attributes.index></li>
			<!--Сам элемент. attributes.index - позиция элемента в select, attributes.value - значение оригинального option-->
		</ul>
	</div>
	<select>...</select>
	<!--Оригинальный select. Разумеется его стоит скрыть в css.-->
</div>
```
Мобильный фолбэк
----------------
На мобилках все дурацко. Пропадает смысл такой стилизации и я предлагаю нагладывать прозрачный `select` на нашу стилизацию. Селект продолжит работать, только вместо выпадашки будет нативный выбор. Дело ваше.
```css
[classes.outer].[classes.mobile] select{
	position: absolute;
	width: 100%;
	height: 100%;
	top: 0;
	left: 0;
	z-index: 10;
	opacity: 0;
}
```
При тестах заметил интересное. Мобилка не дает выбрать первый `option` при множественном выборе. Написал решалку для этой штуки, по умолчанию она чинится. **Чтобы отключить фикс** нужно передать в настройках следующее:
```js
tastySelect({
    mobileFix: false,
});
```
Настройки
-----------
| Свойство  | Значение  |
|---|---|
| selector  | Селектор элементов, которые надо обработать|
|  mobileFix |  Данный флаг позволяет сделать первый элемент активным для выбора. Обычно на мобилках это не работает |
| mask  | Это маска для отображения выбранных элементов. Знак `$` - количество элементов, `%` - перечисление выбранных элементов  |
| maskJoin  | Если у нас в маске указано перечисление, то соединяться оно будет этой строкой  |
| deafultText  | Если поле не выбрано, то отображаться будет этот текст  |
| classes  | В данный объект передаются классы по ключам, объяснение дальше  |
| attributes  | В данный объект передаются атрибуты по ключам, объяснение дальше  |

Классы
------
|Свойство|Значение|
|---|---|
|outer|Родитель всех родителей, внутри него все ( структура + `select` )|
|title|"Кнопка" селекта. В общем это видимая часть селекта без выпадашки|
|options|Выпадашка|
|optgroup|Если в `select` есть группы optgroup, то элементы группы попадут в список с этим классом|
|list|Если элементы висят без группы, то у списка будет этот класс|
|label|Если есть группа, то ее заголовок поместится в `li` с этим классом|
|item|Класс для элемента списка|
|open|Данный класс добавляется к родительскому блоку, если выпадашка открыта|
|selected|Этот класс добавляется к элементу списка, если он выбран|
|mobile|Класс добавляется к родительскому блоку, если это мобилка|

Атрибуты
--------
|Свойство|Значение|
|---|---|
|index|Атрибут добавляется к элементу списка, а значением будет его оригинальная позиция в `select`|
|value|Атрибут добавляется к элементу списка, значение - оригинальный `value`|