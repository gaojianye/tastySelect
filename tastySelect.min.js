!function(e,t){"use strict";var l,n={selector:"select",mobileFix:!0,mask:"%",maskJoin:", ",ctrlKey:!1,defaultText:"Select item...",classes:{outer:"style-select",title:"style-select-title",options:"style-select-options",label:"style-select-label",optgroup:"style-select-optgroup",list:"style-select-list",item:"style-select-option",open:"st_open",selected:"st_selected",disabled:"st_disabled",mobile:"is_mobile",multiple:"is_multiple"},attributes:{index:"data-index",value:"data-value",selectReady:"data-tastyselect"}},o=(l={Android:function(){return!!navigator.userAgent.match(/Android/i)&&"android"},BlackBerry:function(){return!!navigator.userAgent.match(/BlackBerry/i)&&"blackberry"},iOS:function(){return!!navigator.userAgent.match(/iPhone|iPad|iPod/i)&&"ios"},Opera:function(){return!!navigator.userAgent.match(/Opera Mini/i)&&"operamini"},Windows:function(){return!!navigator.userAgent.match(/IEMobile/i)&&"ie"},any:function(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}},l).any();function r(e,t){var l=document.createElement(e);return t&&i(l,t),l}function i(e,t){e.classList.add(t)}function c(e,t){e.classList.remove(t)}function s(e,t){Array.prototype.slice.call(e).forEach(t)}e.tastySelect=function(e){var t;s(document.querySelectorAll(e&&e.selector||n.selector),function(t){!function(e,t){if(null===e.getAttribute("data-tastyselect")){var l,s,a;l=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},n,t),e.getAttribute("placeholder")&&(l.defaultText=e.getAttribute("placeholder")),s=l.classes,a=l.attributes;var u,d,p,m,h,f,v,y,g,b,A,S,E,k,q,x,L,M,C,B=(u=e,d=r("div",s.outer),p=r("div",s.title),m=r("div",s.options),h=r("li",s.label),f=r("ul",s.optgroup),v=r("ul",s.list),y=r("li",s.item),g=u.options,o&&i(d,s.mobile),u.multiple&&i(d,s.multiple),u.disabled&&i(d,s.disabled),d.appendChild(p),d.appendChild(m),function(){for(var e,t=null,l=null,n=v.cloneNode(!0),o=0,r=g.length;o<r;o++){var i=y.cloneNode(!0),c=g[o];l=c.parentNode.getAttribute("label"),t!=l&&(n&&m.appendChild(n),null==l?n=v.cloneNode(!0):(n=f.cloneNode(!0),(e=h.cloneNode(!0)).innerHTML=l,n.appendChild(e))),t=l,i.setAttribute(a.value,c.value),i.setAttribute(a.index,c.index),i.innerHTML=c.text,n.appendChild(i)}m.appendChild(n)}(),d);l.mobileFix&&(b=e,(A=r("optgroup")).disabled=!0,A.hidden=!0,b.insertBefore(A,b.firstChild)),L=B,M=(x=e).cloneNode(!0),C=x.parentNode,L.appendChild(M),C.insertBefore(L,x),C.removeChild(x),E=(S=B).querySelector(l.selector),k=S.querySelector("."+s.title),q=S.querySelector("."+s.options),E.setAttribute(a.selectReady,""),k.addEventListener("click",function(e){E.disabled||w(S)},!1),E.addEventListener("change",function(){N(S)},!1),q.addEventListener("click",function(e){var t,n=e.target.closest("."+s.item),o=e.target.closest("."+s.outer);n&&(t=o.querySelector(l.selector),l.ctrlKey&&t.multiple&&e.ctrlKey||t.multiple?T(n,!0):(T(n),w(n.closest("."+s.outer))))},!1),N(B)}function N(e){for(var t,n,o=e.querySelector(l.selector),r=e.querySelector("."+s.options),a=r.querySelectorAll("."+s.item),u=e.querySelector("."+s.title),d=o.options,p=[],m=l.defaultText,h=0,f=a.length;h<f;h++)n=d[h],t=a[h],n.selected?(i(t,s.selected),p.push(n.text)):c(t,s.selected);p.length&&(m=l.mask.replace("$",p.length).replace("%",p.join(l.maskJoin))),u.innerHTML=m}function T(e,t){var n=e.getAttribute(a.index),o=e.closest("."+s.outer),r=o.querySelector(l.selector),i=r.options,c=i[n];if(!t)for(var u=0,d=i.length;u<d;u++)i[u].selected=!1;if(c.selected=!c.selected,"createEvent"in document){var p=document.createEvent("HTMLEvents");p.initEvent("change",!1,!0),r.dispatchEvent(p)}else r.fireEvent("onchange")}function w(e){e.classList.toggle(s.open)}}(t,e)}),t=e&&e.classes&&e.classes.open||n.classes.open,document.body.addEventListener("click",function(){var e=event.target.closest("."+t);s(document.querySelectorAll("."+t),function(l){e!==l&&c(l,t)})},!1)}}(window),function(e){var t=e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector;e.matches=e.matchesSelector=t||function(e){var t=document.querySelectorAll(e),l=this;return Array.prototype.some.call(t,function(e){return e===l})}}(Element.prototype),function(e){e.closest=e.closest||function(e){return this?this.matches(e)?this:this.parentElement?this.parentElement.closest(e):null:null}}(Element.prototype);